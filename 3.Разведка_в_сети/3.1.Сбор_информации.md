### Сбор информации автоматизированным средствами

Ход действий

1. Начинаем с проверки существования доменного имени cyber-ed.ru командой: host cyber-ed.ru

Утилита host есть в большинстве популярных ОС. Вызов команды host cyber-ed.ru в Linux позволяет получить информацию о
доменном имени "cyber-ed.ru". Конкретно, эта команда выполняет DNS-запрос для определения IP-адреса, связанного с этим
доменным именем, и выводит результаты в терминал.

В ответ на команду "host cyber-ed.ru" будет выведено одно или несколько строк, содержащих информацию об IP-адресе,
ассоциированном с доменным именем "cyber-ed.ru", а также что на этом доменном имени настроена почтовая служба.
Убедившись в существовании данного доменного имени, мы можем перейти к поиску информации о прочих доменных именах,
связанных с ним.

2. Перейдем на сайт https://dnsdumpster.com/ для быстрого изучения известной информации о домене и связанных с ним
   ресурсов.

3. Далее переходим на сайт https://crt.sh/. Сервис crt.sh — это база данных открытых SSL/TLS-сертификатов, которые были
   выданы для доменных имен. Сервис позволяет просматривать информацию о сертификатах и узнавать, какие доменные имена
   были зарегистрированы на конкретное лицо или организацию.

4. После использования методов пассивного сбора информации (о том, что такое "пассивный" и "активный" сбор информации,
   мы поговорим в следующих шагах) перейдем к методом активного сбора информации, а именно, воспользуемся
   утилитой Amass.

**Утилита Amass** — это инструмент для сбора информации об инфраструктуре, который используется в тестировании на
проникновение, исследовании цифровых активов и других областях информационной безопасности. Amass может помочь
исследователям обнаруживать активные домены, поддомены, IP-адреса, а также другую связанную с инфраструктурой
информацию. Amass использует множество источников данных, включая базы данных WHOIS, поиск по DNS, поиск веб-страниц,
сборщики данных, базы данных сертификатов и другие. Он также может использовать дополнительные источники данных,
предоставляемые пользователем.

В результате использования всех этих инструментов мы смогли обнаружить список ресурсов, связанных с основным доменным
именем, и расширили набор данных о цели, которые нужны будут в дальнейших шагах по оценке защищенности организации.

### Процесс сбора информации о внешней инфраструктуре. OSINT

**OSINT** (Open Source Intelligence) — это методология сбора, анализа и использования открытой информации из различных
источников для получения разведывательных данных или информации, полезной для принятия решений.

Открытые источники информации могут включать в себя интернет-ресурсы, социальные сети, газеты, журналы, телевидение,
радио, публичные базы данных и другие источники, которые не требуют специальных разрешений или привилегий для доступа к
ним.

Конечная цель сбора информации — получить как можно больше данных, относящихся к целевой компании.

На какие вопросы мы отвечаем в этом процессе:

Действительно ли данная информация (учетные данные, публичные сервисы и сайты, информационные сообщения) относятся к
нашей цели, а не к другим компаниям, которые не являются нашими целями?
С какими сервисами мы сможем взаимодействовать через сеть для того, чтобы изучать их и исследовать их уязвимости: это
веб-сайты, почтовые серверы, серверы удаленных рабочих столов?
Какие бизнес-риски существуют в организации? Какие самые важные места она защищает или имеет?
Какие технологии использует организация на публичном периметре сети и внутри себя?

### Общие методы и конкретные способы сбора информации
Общие методы сбора информации разделяются на две категории: активные и пассивные.

**Активные методы сбора информации в OSINT** – это методы, которые требуют непосредственного взаимодействия с источником
информации, например, с использованием запросов, сканирования портов и опроса сервисов.

Иначе говоря, непосредственный владелец ИТ-инфраструктуры сможет определить применение по отношению к нему активных
методов сбора информации, т.к. его системы получат запросы от действующего лица и его программ. При активном методе ваши
сетевые запросы приходят прямо от ваших систем на системы владельца, и он может их увидеть.

#### Примеры активных методов сбора информации включают:

**Сканирование портов** – это способ, который позволяет определить, какие порты на серверах компании открыты для доступа
извне. Сканирование портов может помочь определить, какие службы доступны на серверах и какая операционная система
установлена на серверах.

**Энумерация и предугадывание доменных имен** – это способы определения доменных имён, которые используются компанией или
организацией. Этот процесс может включать в себя использование различных методов, таких, как перебор имен поддоменов,
используемых в названии компании, и различных вариантов доменных зон (например, .com, .org, .net).

**Посещение и анализ сайтов** – это способы углубленного анализа сайтов на предмет их функций, используемых ими технологий,
поиске отладочной и технической информации о внутренней сети или устройстве ПО организации.

Пассивные методы сбора информации в OSINT – это методы, которые не требуют непосредственного взаимодействия с источником
информации, а основываются на анализе открытых источников информации.

#### Примеры пассивных методов сбора информации включают:

**Интернет-мониторинг** – это процесс отслеживания и анализа информации, публикуемой в онлайн-ресурсах, включая репозитории,
блоги, форумы и другие интернет-сайты.

**Анализ открытых баз данных** – это процесс сбора информации из открытых баз данных, таких, как государственные реестры,
базы данных компаний, справочники и т.д.

**Анализ открытых источников информации** – это процесс сбора и анализа информации, полученной из различных открытых
источников, таких, как сайты-агрегаторы утечек данных, сайты, собирающие информацию о изменении DNS имен и историю DNS,
сайты, исследующие интернет и опубликованные в нем сервисы.

#### Отсев нерелевантных данных

После применения различных методов и способов сбора информации всю полученную информацию необходимо валидировать. В
общем случае белые хакеры предоставляют собранную информацию организации заказчику и выверяют с ней данные, которые
действительно останутся в списке всей полученной информации, чтобы не затронуть информационные системы, которые не
предполагаются для дальнейшего исследования и тестирования.

#### Данные, которые мы собираем на этапе сбора информации об инфраструктуре
Наши цели по исполнению этапа сбора информации:

- Обнаружение доменных имен, принадлежащих организации
- Обнаружение “живых” хостов в сети и составления списка их IP-адресов
- Определение актуального статуса сетевых портов узлов из списка
- Определение типа и версии операционной системы на исследованных машинах
- Определение версий ПО или служб, которые находятся на сетевых портах
- Сбор информации об используемых технологиях на веб-сайте

Агрегация всех популярных инструментов и ресурсов для OSINT - https://osintframework.com/
Агрегация всех популярных статей, исследований, кейсов и инструментов в OSINT - https://github.com/jivoi/awesome-osint
Взгляд со стороны организации на целесообразность создания процесса киберразведки в собственной системе